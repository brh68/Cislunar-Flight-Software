<component name="Aggregator" kind="active" namespace="Ref">
<!-- RTC Port Imports -->
    <import_port_type>Ref/CislunarPorts/RTCWritePortAi.xml</import_port_type>
    <import_port_type>Ref/CislunarPorts/RTCReadPortAi.xml</import_port_type>
<!-- IMU Port Imports -->
    <import_port_type>Ref/CislunarPorts/IMUConfigPortAi.xml</import_port_type>
    <import_port_type>Ref/CislunarPorts/IMUReadPortAi.xml</import_port_type>

    <ports>
<!-- RTC Port Creation -->
        <port name="RTCWrite" data_type="Ref::RTCWritePort" kind="output"></port>
	<port name="RTCRead" data_type="Ref::RTCReadPort" kind="output"></port>
<!-- IMU Port Creation -->
	<port name="IMUConfig" data_type="Ref::IMUConfigPort" kind="output"></port>
	<port name="IMURead" data_type="Ref::IMUReadPort" kind="output"></port>
    </ports>
    <commands>
<!-- RTC Commands -->
        <command kind="async" opcode="0" mnemonic="GET_RTC_DATA">
            	<comment>
            	get time
            	</comment>
        </command>
	<command kind="async" opcode="1" mnemonic="SET_RTC_DATA">
		<comment> 
		set time
		</comment>
		<args>
			<arg name="time" type="U32"></arg>
		</args>
	</command>
<!-- IMU Commands -->
	<command kind="async" opcode="2" mnemonic="AGG_CONFIG_IMU">
		<args>
			<arg name="configVal1" type="I32"></arg>
			<arg name="configVal2" type="I32"></arg>
		</args>
	</command>
	<command kind="async" opcode="3" mnemonic="AGG_GET_IMU_DATA">
		<comment>
		gets gyro and accelerometer daat
		</comment>
	</command>
    </commands>
    <telemetry>
<!-- RTC Telemetry -->
        <channel id="0" name="AGG_TIME" data_type="U32">
            <comment>
            The time
            </comment>
        </channel>
<!-- IMU Telemetry -->
	<channel id="1" name="AGG_GyroX" data_type = "F64"></channel>
	<channel id="2" name="AGG_GyroY" data_type = "F64"></channel>
	<channel id="3" name="AGG_GyroZ" data_type = "F64"></channel>
	<channel id="4" name="AGG_AccX" data_type = "F64"></channel>
	<channel id="5" name="AGG_AccY" data_type = "F64"></channel>
	<channel id="6" name="AGG_AccZ" data_type = "F64"></channel>
	<channel id="7" name="AGG_IMU_Config1" data_type="I32"></channel>
	<channel id="8" name="AGG_IMU_Config2" data_type="I32"></channel>
    </telemetry>
    <events>
<!-- RTC Events -->
        <event id="0" name="RTC_COMMAND_SENT" severity="ACTIVITY_HI" format_string="RTC CMD SENT: %u %d"  >
            <args>
                <arg name="timeEv" type="U32">
                </arg>                
                <arg name="opEv" type="ENUM">
                    <comment>The requested operation</comment>
	                <enum name="MathOpEv">
	                    <item name="SET_EV"/>
	                    <item name="GET_EV"/>          
	                </enum>
                </arg>          
            </args>
        </event>
<!-- IMU Events -->
        <event id="1" name="IMU_COMMAND_SENT" severity="ACTIVITY_HI" format_string="IMU CMD SENT: %d"  >
            <args>             
                <arg name="opEv" type="ENUM">
                    <comment>The requested operation</comment>
	                <enum name="IMUEventEnum">
	                    <item name="IMU_CONFIG"/>
	                    <item name="IMU_READ"/>          
	                </enum>
                </arg>          
            </args>
        </event>
    </events>
</component>

